<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISAAC: Docker Install</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISAAC
   &#160;<span id="projectnumber">0.2.4</span>
   </div>
   <div id="projectbrief">Flight software for the ISAAC project, adding functionality to the Astrobee robot, operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('docker.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Docker Install </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md12"></a>
Install dependencies</h2>
<p>Install docker tools: <a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></p>
<p>Install docker compose: <a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></p>
<p>Install nvidia-docker: <a href="https://github.com/NVIDIA/nvidia-docker">https://github.com/NVIDIA/nvidia-docker</a>.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Building the docker images</h2>
<p>To run the demos, you can use the remote images and skip this section. If you want to build the docker images locally instead of pulling from the remote repository, run: </p><pre class="fragment">./build.sh [OPTIONS]
</pre><p> The build script will automatically detect the current Ubuntu OS version and define the docker files variables <code>UBUNTU_VERSION</code>, <code>ROS_VERSION</code>, and <code>PYTHON</code> accordingly.</p>
<p>Options:</p>
<p>If a specific version is desired, the option &ndash;xenial, &ndash;bionic, and &ndash;focal is used for ubuntu 16.04, 18.04, and 20.04 docker images, respectively.</p>
<p>If you are building the docker images in a virtual machine, because of graphics card passthrough restriction, the gazebo simulation will not work properly. Therefore the build script has the option &ndash;vm which will only build the images that are used for a virtual machine deployment (simulation runs natively).</p>
<p>If you don't want to run mast or don't have access to it (not a public repository), the use the option &ndash;no-mast.</p>
<p>For further help on available options: </p><pre class="fragment">./build --help
</pre><h2><a class="anchor" id="autotoc_md14"></a>
Run the docker containers</h2>
<p>To run the docker containers: </p><pre class="fragment">./run.sh [OPTIONS]
</pre><p>It will automatically detect the current Ubuntu OS version. If a specific version is desired, the option &ndash;xenial, &ndash;bionic, and &ndash;focal is used for ubuntu 16.04, 18.04, and 20.04 docker images, respectively.</p>
<p>Options:</p>
<p>If a specific version is desired, the option &ndash;xenial, &ndash;bionic, and &ndash;focal is used for ubuntu 16.04, 18.04, and 20.04 docker images, respectively. Note this is only valid for the docker containers, native software will run on the host OS.</p>
<p>For further help on available options: </p><pre class="fragment">./run --help
</pre><p><a href="http://localhost:8888/lab?token=isaac">http://localhost:8888/lab?token=isaac</a></p>
<h2><a class="anchor" id="autotoc_md15"></a>
Docker Demos</h2>
<p>There are currently 3 demos available to showcase some aspects of the ISAAC functionality</p>
<h3><a class="anchor" id="autotoc_md16"></a>
Trigger anomaly</h3>
<p>This demo will trigger a C02 anomaly, the levels of C02 will start to increase. The mast detects the anomaly and sends astrobee to inspect a vent. Astrobee will undock, calculate the optimal inspection pose to observe the target and move towards that pose, replanning if any obstacle is found. When the robot has the vent of interest in sight, it will take a picture and run it through a trained CNN, identifying whether the vent is obstructed, free or inconclusive result. After inspection Astrobee will dock autonomously.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Trigger geometric mapping</h3>
<p>This demo will trigger a geometric mapping inspection event. The geometric mapper collects pictures from several poses and creates a 3d mesh of the ISS. The robot will undock, follow a trajectory taking pictures at the specified waypoints and dock again. For the geometric mapper, the trajectory followed is defined in astrobee/behaviors/inspection/resources/jpm_sliced.txt. The geometric mapper will map a section of the jem containing the entry node.</p>
<h3><a class="anchor" id="autotoc_md18"></a>
Trigger wifi mapping</h3>
<p>This demo will trigger a volumetric mapping inspection event. The volumetric mapper collects information from an onboard sensor of Astrobee and interpolates the data in a specified area. The robot will undock, follow a trajectory and dock again. For the wifi mapper, the trajectory followed is defined in astrobee/behaviors/inspection/resources/wifi.txt.</p>
<p>Open <code><a href="http://127.0.0.1:8080">http://127.0.0.1:8080</a></code> in a web browser to see what is happening. Use <code>docker ps</code> to see the docker containers and use <code>docker exec -it container_name /bin/bash</code> to get a shell in one.</p>
<p>Cancel with Ctrl+c and then run <code>scripts/docker/shutdown.sh</code> to stop the demo. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
</body>
</html>
