version: "3.9"
services:
  isaac:
    image: ${REMOTE:-isaac}/isaac:latest-ubuntu${UBUNTU_VERSION}
    build:
      context: ${ISAAC_PATH}
      dockerfile: ${ISAAC_PATH}/scripts/docker/isaac.Dockerfile
      args:
        UBUNTU_VERSION: ${UBUNTU_VERSION:-20.04}
        REMOTE: ${REMOTE:-isaac}
        ROS_VERSION: ${ROS_VERSION:-noetic}
        PYTHON: ${PYTHON:-3}
    entrypoint: "/ros_entrypoint.sh"
    command: ${cmd}
    hostname: isaac
    container_name: isaac
    expose:
      - 11311
    environment:
      - ROS_MASTER_URI=http://rosmaster:11311
      - ROS_IP=172.19.0.6
      - ROSLAUNCH_SSH_UNKNOWN=1
    networks:
      isaac:
        ipv4_address: 172.19.0.6
